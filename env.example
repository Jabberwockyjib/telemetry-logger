# Cartelem Environment Configuration
# Copy this file to .env and adjust the values for your setup

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================
# SQLite (Development) - Default
DATABASE_URL=sqlite+aiosqlite:///./cartelem.db

# PostgreSQL (Production) - Uncomment and configure
# DATABASE_URL=postgresql+asyncpg://username:password@localhost:5432/cartelem

# =============================================================================
# APPLICATION SETTINGS
# =============================================================================
# Debug mode (true for development, false for production)
DEBUG=true

# Server host and port
HOST=0.0.0.0
PORT=8000

# Logging level (DEBUG, INFO, WARNING, ERROR, CRITICAL)
LOG_LEVEL=INFO

# =============================================================================
# GPS CONFIGURATION
# =============================================================================
# Serial port for GPS device (Linux: /dev/ttyUSB0, Windows: COM3)
GPS_PORT=/dev/ttyUSB0

# GPS baud rate (typically 4800, 9600, or 38400)
GPS_BAUDRATE=4800

# GPS data collection rate in Hz (1-10 Hz recommended)
GPS_RATE_HZ=10

# Serial timeout in seconds
GPS_TIMEOUT=1.0

# Maximum reconnection attempts
GPS_MAX_RECONNECT=10

# Delay between reconnection attempts in seconds
GPS_RECONNECT_DELAY=5.0

# =============================================================================
# OBD-II CONFIGURATION
# =============================================================================
# Serial port for OBD-II adapter (Linux: /dev/ttyUSB1, Windows: COM4)
OBD_PORT=/dev/ttyUSB1

# OBD baud rate (typically 38400 for ELM327 adapters)
OBD_BAUDRATE=38400

# OBD command timeout in seconds
OBD_TIMEOUT=5.0

# Maximum reconnection attempts
OBD_MAX_RECONNECT=5

# Delay between reconnection attempts in seconds
OBD_RECONNECT_DELAY=10.0

# =============================================================================
# MESHTASTIC CONFIGURATION (Optional)
# =============================================================================
# Path to Meshtastic device (Linux: /dev/ttyUSB2, Windows: COM5)
MESHTASTIC_DEVICE_PATH=/dev/ttyUSB2

# Meshtastic baud rate
MESHTASTIC_BAUDRATE=38400

# Telemetry transmission rate in Hz
MESHTASTIC_RATE_HZ=1

# Maximum payload size in bytes
MESHTASTIC_MAX_PAYLOAD=64

# =============================================================================
# PERFORMANCE TUNING
# =============================================================================
# Database connection pool size
DB_POOL_SIZE=20

# Database connection pool overflow
DB_MAX_OVERFLOW=30

# WebSocket connection timeout in seconds
WS_TIMEOUT=30

# Maximum WebSocket connections
WS_MAX_CONNECTIONS=100

# =============================================================================
# SECURITY SETTINGS (Production)
# =============================================================================
# Secret key for session management (generate a secure random string)
# SECRET_KEY=your-secret-key-here

# Allowed hosts for CORS (comma-separated)
# ALLOWED_HOSTS=localhost,127.0.0.1,yourdomain.com

# =============================================================================
# EXPORT SETTINGS
# =============================================================================
# Maximum number of records per export
EXPORT_MAX_RECORDS=100000

# Export batch size for large datasets
EXPORT_BATCH_SIZE=1000

# =============================================================================
# HARDWARE DETECTION HELPERS
# =============================================================================
# Uncomment to auto-detect serial ports (Linux/macOS)
# AUTO_DETECT_PORTS=true

# Serial port search patterns (comma-separated)
# PORT_PATTERNS=/dev/ttyUSB*,/dev/ttyACM*,/dev/cu.usbserial*

# =============================================================================
# DEVELOPMENT SETTINGS
# =============================================================================
# Enable hot reload for development
# RELOAD=true

# Enable detailed error pages
# DEBUG_TEMPLATES=true

# =============================================================================
# MONITORING AND LOGGING
# =============================================================================
# Log file path
# LOG_FILE=logs/cartelem.log

# Log rotation settings
# LOG_MAX_SIZE=10MB
# LOG_BACKUP_COUNT=5

# Enable performance monitoring
# ENABLE_METRICS=true

# =============================================================================
# CUSTOM SENSOR CONFIGURATION
# =============================================================================
# Additional serial devices (comma-separated)
# CUSTOM_SENSORS=/dev/ttyUSB3,/dev/ttyUSB4

# Custom sensor baud rates (comma-separated, matching CUSTOM_SENSORS)
# CUSTOM_BAUDRATES=9600,115200

# Custom sensor data formats (comma-separated)
# CUSTOM_FORMATS=json,csv

# =============================================================================
# NETWORK SETTINGS
# =============================================================================
# Enable HTTPS (requires SSL certificates)
# HTTPS_ENABLED=false

# SSL certificate path
# SSL_CERT_PATH=/path/to/cert.pem

# SSL private key path
# SSL_KEY_PATH=/path/to/key.pem

# =============================================================================
# BACKUP SETTINGS
# =============================================================================
# Enable automatic database backups
# BACKUP_ENABLED=false

# Backup interval in hours
# BACKUP_INTERVAL=24

# Backup retention days
# BACKUP_RETENTION=30

# Backup storage path
# BACKUP_PATH=./backups
